# AgentOps Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# GCP Project Configuration
# ==========================================
PROJECT_ID=your-gcp-project-id
PROJECT_NUMBER=your-project-number
REGION=us-central1

# ==========================================
# Service Account Emails
# ==========================================
SUPERVISOR_SA=supervisor-sa@${PROJECT_ID}.iam.gserviceaccount.com
FIXER_SA=fixer-sa@${PROJECT_ID}.iam.gserviceaccount.com
DASHBOARD_SA=dashboard-sa@${PROJECT_ID}.iam.gserviceaccount.com

# ==========================================
# Pub/Sub Configuration
# ==========================================
PUBSUB_TOPIC=agent-actions
PUBSUB_SUBSCRIPTION=agent-actions-sub

# ==========================================
# Gemini AI Configuration
# ==========================================
GEMINI_MODEL=gemini-1.5-flash
GEMINI_LOCATION=us-central1
GEMINI_MAX_TOKENS=2048
GEMINI_TEMPERATURE=0.2

# ==========================================
# Health Monitoring Thresholds
# ==========================================
ERROR_THRESHOLD_PCT=5.0
LATENCY_P95_THRESHOLD_MS=600
LATENCY_P99_THRESHOLD_MS=1000
MIN_REQUEST_COUNT=100

# ==========================================
# Scan Configuration
# ==========================================
SCAN_INTERVAL_SECONDS=120
SCAN_WINDOW_MINUTES=5
CONFIRMATION_WINDOWS=2

# ==========================================
# Remediation Configuration
# ==========================================
ROLLBACK_ENABLED=true
AUTO_SCALE_ENABLED=true
AUTO_REBUILD_ENABLED=false
DRY_RUN_MODE=false

# Scale bounds for auto-scaling
MIN_INSTANCES_FLOOR=0
MIN_INSTANCES_CEILING=5
MAX_INSTANCES_FLOOR=10
MAX_INSTANCES_CEILING=100

# ==========================================
# Target Services to Monitor
# ==========================================
# Comma-separated list of Cloud Run service names
TARGET_SERVICES=demo-app-a,demo-app-b

# ==========================================
# Cloud Run Configuration
# ==========================================
CLOUD_RUN_REGION=${REGION}
SUPERVISOR_API_PORT=8080
FIXER_AGENT_PORT=8081
DASHBOARD_PORT=3000

# ==========================================
# Firestore Configuration
# ==========================================
FIRESTORE_DATABASE=(default)
INCIDENTS_COLLECTION=incidents
ACTIONS_COLLECTION=actions
CONFIGS_COLLECTION=service_configs

# ==========================================
# Cloud Build Configuration
# ==========================================
# Map service names to Cloud Build trigger IDs
# Format: SERVICE_NAME=TRIGGER_ID
DEMO_APP_A_TRIGGER_ID=
DEMO_APP_B_TRIGGER_ID=

# ==========================================
# Dashboard Configuration
# ==========================================
DASHBOARD_REFRESH_INTERVAL_MS=5000
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=8082

# ==========================================
# Logging Configuration
# ==========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==========================================
# Demo & Testing
# ==========================================
DEMO_MODE=true
FAULT_INJECTION_ENABLED=true

# ==========================================
# Security
# ==========================================
# These will be stored in Secret Manager
WEBHOOK_SECRET=
API_KEY=

# ==========================================
# Cost Controls
# ==========================================
MAX_CONCURRENT_SCANS=5
MAX_ACTIONS_PER_HOUR=20
ALERT_ON_COST_THRESHOLD=true

# ==========================================
# Feature Flags
# ==========================================
ENABLE_CANARY_ANALYSIS=false
ENABLE_ROOT_CAUSE_HINTS=true
ENABLE_SLACK_ALERTS=false
ENABLE_EMAIL_ALERTS=false